import{_ as s,c as i,o as e,a4 as a}from"./chunks/framework.BvIE6Ka-.js";const u=JSON.parse('{"title":"TransportMessageBuilder","description":"","frontmatter":{},"headers":[],"relativePath":"shuttle-esb/components/transport-message-builder.md","filePath":"shuttle-esb/components/transport-message-builder.md"}'),t={name:"shuttle-esb/components/transport-message-builder.md"},h=a(`<h1 id="transportmessagebuilder" tabindex="-1">TransportMessageBuilder <a class="header-anchor" href="#transportmessagebuilder" aria-label="Permalink to &quot;TransportMessageBuilder&quot;">​</a></h1><h2 id="properties" tabindex="-1">Properties <a class="header-anchor" href="#properties" aria-label="Permalink to &quot;Properties&quot;">​</a></h2><h3 id="headers" tabindex="-1">Headers <a class="header-anchor" href="#headers" aria-label="Permalink to &quot;Headers&quot;">​</a></h3><div class="language-c# vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> List</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TransportHeader</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Headers { get; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">private</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; }</span></span></code></pre></div><p>Contains the list of name/value pair transport headers. Whenever a <code>TransportMessageReceived</code> is available the received transport headers are also included.</p><h2 id="methods" tabindex="-1">Methods <a class="header-anchor" href="#methods" aria-label="Permalink to &quot;Methods&quot;">​</a></h2><h3 id="local" tabindex="-1">Local <a class="header-anchor" href="#local" aria-label="Permalink to &quot;Local&quot;">​</a></h3><div class="language-c# vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TransportMessageBuilder</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Local</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><p>This sets the <code>RecipientInboxWorkQueueUri</code> tot he local inbox work queue uri. If there is no inbox an expection is thrown.</p><h3 id="reply" tabindex="-1">Reply <a class="header-anchor" href="#reply" aria-label="Permalink to &quot;Reply&quot;">​</a></h3><div class="language-c# vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TransportMessageBuilder</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Reply</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><p>This sets the <code>RecipientInboxWorkQueueUri</code> to the <code>SenderInboxWorkQueueUri</code> of the transport message that was received. This method, therefore, is only available in a [HandlerContext]. If no transport message received instance is available or if the received transport message does not have a <code>SenderInboxWorkQueueUri</code> property (the sender has no inbox) an exception is thrown.</p><h3 id="withrecipient" tabindex="-1">WithRecipient <a class="header-anchor" href="#withrecipient" aria-label="Permalink to &quot;WithRecipient&quot;">​</a></h3><div class="language-c# vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TransportMessageBuilder</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WithRecipient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IQueue</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> queue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TransportMessageBuilder</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WithRecipient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Uri</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> uri</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TransportMessageBuilder</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WithRecipient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> uri</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>This sets the <code>RecipientInboxWorkQueueUri</code> explicitly and no routing will be applied.</p><h3 id="withcorrelationid" tabindex="-1">WithCorrelationId <a class="header-anchor" href="#withcorrelationid" aria-label="Permalink to &quot;WithCorrelationId&quot;">​</a></h3><div class="language-c# vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TransportMessageBuilder</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WithCorrelationId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> correlationId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>Sets the correlation id for the message.</p><h3 id="defer" tabindex="-1">Defer <a class="header-anchor" href="#defer" aria-label="Permalink to &quot;Defer&quot;">​</a></h3><div class="language-c# vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TransportMessageBuilder</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Defer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DateTime</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ignoreTillDate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>Ignores the <code>TransportMessage</code> until the given date/time has been reached. The <code>TransportMessage</code> is sent immediately and it is up to the receiving endpoint to decide how to defer it. It is recommended that you configure a deferred queue.</p><p>Without a dedicated deferred queue the work queue will contain the deferred message. This may slow down processing as a deferred message is not regarded as work. If the queue contains too many deferred messages the queue processing will become very slow and unresponsive.</p><h3 id="willexpire" tabindex="-1">WillExpire <a class="header-anchor" href="#willexpire" aria-label="Permalink to &quot;WillExpire&quot;">​</a></h3><div class="language-c# vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TransportMessageBuilder</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WillExpire</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DateTime</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> expiryDate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>The message will only remain valid until this date is reached. After this is will not be processed but rather immediately acknowledged. The queuing mechanism may also, should it support message expiry, remove the message internally from the queue.</p><h3 id="withpriority" tabindex="-1">WithPriority <a class="header-anchor" href="#withpriority" aria-label="Permalink to &quot;WithPriority&quot;">​</a></h3><div class="language-c# vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TransportMessageBuilder</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WithPriority</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> priority</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h3 id="withencryption" tabindex="-1">WithEncryption <a class="header-anchor" href="#withencryption" aria-label="Permalink to &quot;WithEncryption&quot;">​</a></h3><div class="language-c# vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TransportMessageBuilder</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WithEncryption</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> encryption</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h3 id="withcompression" tabindex="-1">WithCompression <a class="header-anchor" href="#withcompression" aria-label="Permalink to &quot;WithCompression&quot;">​</a></h3><div class="language-c# vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TransportMessageBuilder</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WithCompression</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> compression</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h3 id="hasrecipient" tabindex="-1">HasRecipient <a class="header-anchor" href="#hasrecipient" aria-label="Permalink to &quot;HasRecipient&quot;">​</a></h3><div class="language-c# vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HasRecipient { get; }</span></span></code></pre></div><p>Returns <code>true</code> if the transport message has a <code>RecipientInboxWorkQueueUri</code>; else <code>false</code>.</p>`,34),n=[h];function l(r,p,o,d,k,c){return e(),i("div",null,n)}const y=s(t,[["render",l]]);export{u as __pageData,y as default};
