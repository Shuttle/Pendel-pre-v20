<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Why use a service bus? | Shuttle</title>
    <meta name="description" content="Shuttle.Esb Documentation">
    <meta name="generator" content="VitePress v1.1.3">
    <link rel="preload stylesheet" href="/assets/style.18z4AmUr.css" as="style">
    
    <script type="module" src="/assets/app.8EJZ_16k.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.CfygL32k.js">
    <link rel="modulepreload" href="/assets/chunks/theme.tN7muoZb.js">
    <link rel="modulepreload" href="/assets/shuttle-esb_concepts_why.md.D1dxdC1L.lean.js">
    <link rel="shortcut icon" href="/favicon.ico">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar has-sidebar top" data-v-ae24b3ad data-v-ccf7ddec><div class="wrapper" data-v-ccf7ddec><div class="container" data-v-ccf7ddec><div class="title" data-v-ccf7ddec><div class="VPNavBarTitle has-sidebar" data-v-ccf7ddec data-v-ab179fa1><a class="title" href="/" data-v-ab179fa1><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.svg" alt data-v-8426fc1a><!--]--><span data-v-ab179fa1>Shuttle</span><!--[--><!--]--></a></div></div><div class="content" data-v-ccf7ddec><div class="content-body" data-v-ccf7ddec><!--[--><!--]--><div class="VPNavBarSearch search" data-v-ccf7ddec><!--[--><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-ccf7ddec data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/shuttle-core/index.html" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>Core</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/shuttle-esb/index.html" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>Service Bus</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/shuttle-recall/index.html" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>Event Sourcing</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-ccf7ddec data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-e6aabb21 data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-ccf7ddec data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Shuttle/Pendel" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><a class="VPSocialLink no-icon" href="https://discord.gg/J2suHcy2x8" aria-label="discord" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-discord" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-ccf7ddec data-v-d0bd9dde data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-d0bd9dde><div class="item appearance" data-v-d0bd9dde><p class="label" data-v-d0bd9dde>Appearance</p><div class="appearance-action" data-v-d0bd9dde><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-d0bd9dde data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d0bd9dde><div class="item social-links" data-v-d0bd9dde><div class="VPSocialLinks social-links-list" data-v-d0bd9dde data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Shuttle/Pendel" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><a class="VPSocialLink no-icon" href="https://discord.gg/J2suHcy2x8" aria-label="discord" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-discord" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-ccf7ddec data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-ccf7ddec><div class="divider-line" data-v-ccf7ddec></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-267dd0ed><button data-v-267dd0ed>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-575e6a36><div class="curtain" data-v-575e6a36></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-575e6a36><span class="visually-hidden" id="sidebar-aria-label" data-v-575e6a36> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0" data-v-575e6a36 data-v-b8d55f3b><!----><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/shuttle-esb/index.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Shuttle.Esb</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 has-active" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>Concepts</h2><!----></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/shuttle-esb/concepts/why.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Why?</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/shuttle-esb/concepts/autonomous-business-components.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Autonomous Business Components</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>Patterns</h2><!----></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/shuttle-esb/concepts/patterns/stream-processing.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Stream Processing</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/shuttle-esb/concepts/patterns/request-response.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Request / Response</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/shuttle-esb/concepts/patterns/publish-subscribe.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Publish / Subscribe</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/shuttle-esb/concepts/patterns/message-idempotence.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Message Idempotence</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/shuttle-esb/concepts/patterns/deferred-messages.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Deferred Messages</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/shuttle-esb/concepts/patterns/message-routing.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Message Routing</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>Essentials</h2><!----></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/shuttle-esb/concepts/essentials/bounded-contexts.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Bounded Contexts</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3f215769 data-v-935f8a84><div class="content" data-v-935f8a84><div class="outline-marker" data-v-935f8a84></div><div class="outline-title" role="heading" aria-level="2" data-v-935f8a84>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-935f8a84><span class="visually-hidden" id="doc-outline-aria-label" data-v-935f8a84> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-935f8a84 data-v-b933a997><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _shuttle-esb_concepts_why" data-v-39a288b8><div><h1 id="why-use-a-service-bus" tabindex="-1">Why use a service bus? <a class="header-anchor" href="#why-use-a-service-bus" aria-label="Permalink to &quot;Why use a service bus?&quot;">​</a></h1><p>A service bus provides a mechanism to decouple systems. One system should not have any knowledge of the internal workings of another. The way a service bus manages to do this is by using a messaging infrastructure in the form of queues.</p><p>You certainly can code directly against the messaging infrastructure and you will find that there are pros and cons w.r.t. each transport. There are many decisions that you will need to make along the way and this is where a service bus will make your implementation somewhat easier.</p><p>Developing directly against a messaging system will inevitably lead to various abstractions that you will require to handle the various scenarios that arise from a distributed system.</p><p>Shuttle.Esb provides the following out-of-the-box:</p><ul><li>At-least once message delivery</li><li>Retrying failed messages</li><li>Request / Response</li><li>Publish / Subscribe</li><li>Message idempotence</li><li>Dependency injection</li><li>Stream processing</li></ul><p>A service bus will buy you quite a bit out-of-the-box whereas coding against the queues directly may be a bit of work to get going.</p><p>The following provides a quick overview of some service bus concepts as implemented in Shuttle.Esb that may help you along the way.</p><h2 id="core" tabindex="-1">Core <a class="header-anchor" href="#core" aria-label="Permalink to &quot;Core&quot;">​</a></h2><p>The basic parts of Shuttle.Esb consist of:</p><ul><li>Messages</li><li>Queues / Streams</li><li>Service bus</li></ul><p>Every service bus instance is associated with, and therefore processes, only one input queue. This is the inbox. All messages received in the inbox are processed by the associated service bus instance.</p><h2 id="messages" tabindex="-1">Messages <a class="header-anchor" href="#messages" aria-label="Permalink to &quot;Messages&quot;">​</a></h2><p>Messages are essentially data transfer objects that implement a message structure specific to your requirements, e.g.:</p><div class="language-c# vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ActivateMember</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MemberId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MemberActivated</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // events are past tense</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MemberId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="queues-streams" tabindex="-1">Queues / Streams <a class="header-anchor" href="#queues-streams" aria-label="Permalink to &quot;Queues / Streams&quot;">​</a></h2><p>Messages are processed by message handlers that are invoked by Shuttle.Esb. When a service bus is started it receives messages from an inbox queue. Messages have to end up in the relevant queue to be processed. The inbox configuration is specified using <code>ServiceBusOptions.Inbox</code>.</p><p>The approach taken is an <strong>at-least-once</strong> delivery mechanism. This differs from an <strong>exactly-once</strong> delivery in that edge cases may result in a message being processed more than once. For <strong>exactly-once</strong> delivery edge cases may result in message loss which is impossible to find. A duplicate message is easier to handle than no message at all.</p><p>It is important to note that all queue implementation retrieve messages in a non-destructive way and should always be implemented with acknowledgement in mind. As soon as a message is retrieved from the queue it should be possible to either acknowledge the message to release the message back onto the queue. However, this is slightly different for stream implementations. An acknowledgement would indicate to the stream that the client/group has moved past that point in the stream.</p><h2 id="service-bus" tabindex="-1">Service bus <a class="header-anchor" href="#service-bus" aria-label="Permalink to &quot;Service bus&quot;">​</a></h2><p>A service bus instance is required in every application that accesses the service bus. To configure the service bus a combination of code, options, and custom components is used, e.g.:</p><div class="language-c# vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Program</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Task</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Host.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CreateDefaultBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ConfigureServices</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">services</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                services.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AddSingleton</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IDependency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Implementation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                services.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AddServiceBus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">builder</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    builder.Options.Inbox.WorkQueueUri </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                        &quot;queue://configuration/queue-name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    builder.Options.Asynchronous </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                services.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AddAzureStorageQueues</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">builder</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    builder.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AddOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;azure&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AzureStorageQueueOptions</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        ConnectionString </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;UseDevelopmentStorage=true;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RunAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>A <code>ServiceBusHostedService</code> instance is created and started on application startup and disposed on exit. A service bus can be hosted in any type of application but the most typical scenario is to host them as services/units. Although you <em>can</em> write your own service to host your service bus it is not a requirement since you may want to make use of the <a href="https://docs.microsoft.com/en-us/dotnet/core/extensions/generic-host" target="_blank" rel="noreferrer">.NET Generic Host</a>.</p><h2 id="message-types" tabindex="-1">Message Types <a class="header-anchor" href="#message-types" aria-label="Permalink to &quot;Message Types&quot;">​</a></h2><h3 id="command-message" tabindex="-1">Command message <a class="header-anchor" href="#command-message" aria-label="Permalink to &quot;Command message&quot;">​</a></h3><p>A command message is used to tell another system or component what to do. This implies that the calling system is aware of the behaviour of the called system. There is, therefore, a high degree of behavioural coupling.</p><p>A command message always <em><strong>belongs</strong></em> to a single endpoint. Sending a command will never result in the message going to more than <strong>one</strong> queue.</p><h3 id="starting-a-process" tabindex="-1">Starting a process <a class="header-anchor" href="#starting-a-process" aria-label="Permalink to &quot;Starting a process&quot;">​</a></h3><p>There are situations where we need to <em>start</em> something off. Let&#39;s take the case of receiving an order from a client. In our application we would send a <strong>CreateOrder</strong> to our ordering endpoint. This would kick off the relevant process.</p><p>So from the client code:</p><div class="language-c# vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bus.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SendAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CreateOrder</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;CustomerName&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Product </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ProductXYZ&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span></code></pre></div><p>The call would fail if there is nowhere to send the message.</p><p>We could publish an event such as <strong>OrderReceived</strong> and our ordering service could subscribe to the event.</p><div class="language-c# vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bus.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PublishAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> OrderReceived</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ClientName&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Product </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ProductXYZ&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span></code></pre></div><p>The call would <em>not</em> fail should there be no subscribers.</p><p>The difference lies purely in the intent of the message. Events indicate that something has happened and it may be that there are no system interest in the event at the moment it is raised. However, when certain actions are <strong>required</strong> in the system sending a command would require that the message be routed to an endpoint for processing as it isn&#39;t optional. Of course, even when using a command approach there may still be some other system interested in knowing that an order has been received and the ordering service would still publish the event.</p><h3 id="lower-level-functions-rpc" tabindex="-1">Lower-level functions (RPC) <a class="header-anchor" href="#lower-level-functions-rpc" aria-label="Permalink to &quot;Lower-level functions (RPC)&quot;">​</a></h3><p>In some situations an event will not be able to relay the intent of any particular action. For instance, we may need to send an e-mail to a manager whenever an order is created (or when the total amount of the order exceeds a set limit). The e-mail service responsible for sending e-mails via our smtp server will not be able to subscribe to the <code>OrderReceived</code> since the e-mail system would need to be adapted to accomodate rules from another system; which isn&#39;t what we want as it would be too closely coupled to any system that makes use of e-mails.</p><p>In this case the e-mail system is responsible for sending e-mails. Any system that would like to send a mail will need to decide when to do so. Therefore, the ordering service would send a <em>command</em> to the e-mail service:</p><div class="language-c# vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bus.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SendAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SendMail</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        To </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;manager@ordercompany.co.za&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        From </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;orderservice@ordercompany.co.za&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Subject </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Important Order Received&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Body </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Order Details&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span></code></pre></div><h3 id="event-message" tabindex="-1">Event message <a class="header-anchor" href="#event-message" aria-label="Permalink to &quot;Event message&quot;">​</a></h3><p>An event message is used to notify any subscribed endpoints that something significant to the business has taken place. Each endpoint subscribed to an event will get a copy of the event message. If no subscribers exist for an event then publishing the event will have no effect.</p><h3 id="document-message" tabindex="-1">Document message <a class="header-anchor" href="#document-message" aria-label="Permalink to &quot;Document message&quot;">​</a></h3><p>A document message is used to simply send data to an endpoint. As with the event message it carries no intent and the recipient may do with it as it pleases. This does not meean that data will be sent to an endpoint for no reason. An endpoint may request a document from some service, or data is automatically sent to some endpoint since it may be a requirement.</p><p><em>Document messages are not implemented in Shuttle.Esb</em>.</p><h2 id="coupling" tabindex="-1">Coupling <a class="header-anchor" href="#coupling" aria-label="Permalink to &quot;Coupling&quot;">​</a></h2><h3 id="behavioural-coupling" tabindex="-1">Behavioural coupling <a class="header-anchor" href="#behavioural-coupling" aria-label="Permalink to &quot;Behavioural coupling&quot;">​</a></h3><p>Behavioural coupling refers to the degree that one system is aware of the behaviour of another. When a command is sent to a system you expect it to behave in a particular way. This represents a high degree of behavioural coupling. When an event message is published there is no expectation from any subscriber to react in any specific way. This is a low degree of behavioural coupling.</p><p>It is conceivable that there may be an expectation that an event will result in a particular outcome in which case the behavioural coupling increases again.</p><h3 id="temporal-coupling" tabindex="-1">Temporal coupling <a class="header-anchor" href="#temporal-coupling" aria-label="Permalink to &quot;Temporal coupling&quot;">​</a></h3><p>Temporal coupling refers to the availability of services <strong>when</strong> they are required.</p><p>Should <em>ServiceA</em> require <em>ServiceB</em> to be available for <em>ServiceA</em> to function there is a high degree of temporal coupling. Conversely, if <em>ServiceA</em> can continue to operate even though <em>ServiceB</em> is down then there is a low degree of temporal coupling.</p><p>A synchronous web-service call is an example of high temporal coupling.</p><p>Now you may be wondering how <em>ServiceA</em> can continue to operate even though it requires <em>ServiceB</em> to perform some function. The answer is asynchronous communication using queues. One may argue that a web-service call may be made asynchronously but there is a difference. <em>ServiceA</em> may go down before a required response is received resulting in the web-service call failing.</p><p>With messages, things always move in one direction at a time. <em>ServiceA</em> to <em>ServiceB</em> is one operation and will eventually complete. <em>ServiceB</em> to <em>ServiceA</em> is another movement and will eventually complete.</p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-09de1c0f><!--[--><!--]--><!----><nav class="prev-next" data-v-09de1c0f><div class="pager" data-v-09de1c0f><a class="VPLink link pager-link prev" href="/shuttle-esb/index.html" data-v-09de1c0f><!--[--><span class="desc" data-v-09de1c0f>Previous page</span><span class="title" data-v-09de1c0f>Shuttle.Esb</span><!--]--></a></div><div class="pager" data-v-09de1c0f><a class="VPLink link pager-link next" href="/shuttle-esb/concepts/autonomous-business-components.html" data-v-09de1c0f><!--[--><span class="desc" data-v-09de1c0f>Next page</span><span class="title" data-v-09de1c0f>Autonomous Business Components</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><!----><p class="copyright" data-v-e315a0ad>Copyright © 2013-2024 Eben Roux</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"shuttle-core_index.md\":\"C77Iq7ZI\",\"shuttle-esb_components_subscription-service.md\":\"B-k-r2Z2\",\"shuttle-core_infrastructure_shuttle-core-streams.md\":\"N8HX-7BS\",\"shuttle-esb_concepts_essentials_bounded-contexts.md\":\"BTGdyh9j\",\"shuttle-esb_guide_essentials_exception-handling.md\":\"DQyGM2xh\",\"shuttle-esb_components_message-handler-invoker.md\":\"DcP68Ggg\",\"shuttle-esb_components_queue-factory-service.md\":\"DmueKXej\",\"shuttle-core_infrastructure_shuttle-core-cron.md\":\"BBWYKbNn\",\"shuttle-esb_concepts_patterns_message-idempotence.md\":\"DxIjL4iO\",\"shuttle-esb_components_idempotence-service.md\":\"C9FI5IRj\",\"shuttle-core_core_hosting.md\":\"D1kQromE\",\"index.md\":\"BAf63uY5\",\"shuttle-esb_components_service-bus-policy.md\":\"Cu-L5D10\",\"shuttle-core_infrastructure_shuttle-core-dependencyinjection.md\":\"D5uN3mU6\",\"shuttle-core_infrastructure_shuttle-core-compression.md\":\"eqgWwGJ4\",\"shuttle-esb_concepts_patterns_message-routing.md\":\"Bdovvg8S\",\"shuttle-core_upgrade-ms-di.md\":\"C8CBpD_H\",\"shuttle-esb_components_queue-service.md\":\"BF-sFoxf\",\"shuttle-esb_concepts_patterns_deferred-messages.md\":\"CrTXuBmv\",\"shuttle-esb_components_transport-header.md\":\"D1NnmJ_v\",\"shuttle-core_serialization_shuttle-core-serialization.md\":\"CNRUh7AC\",\"shuttle-core_infrastructure_shuttle-core-mediator.md\":\"DF5usSJ7\",\"shuttle-core_infrastructure_shuttle-core-transactions.md\":\"CvJc_ond\",\"shuttle-esb_changelog.md\":\"Ius-zdww\",\"shuttle-esb_components_transport-message.md\":\"DYRGyUa-\",\"shuttle-core_infrastructure_shuttle-core-reflection.md\":\"Dqlce8oj\",\"shuttle-core_infrastructure_shuttle-core-system.md\":\"rnJvX3qG\",\"shuttle-core_infrastructure_shuttle-core-specification.md\":\"_8hukURb\",\"shuttle-esb_concepts_autonomous-business-components.md\":\"CZ9VBfC3\",\"shuttle-esb_concepts_why.md\":\"D1dxdC1L\",\"shuttle-core_infrastructure_shuttle-core-threading.md\":\"CmUPQyBB\",\"shuttle-esb_concepts_patterns_publish-subscribe.md\":\"CI88_S8h\",\"shuttle-esb_components_message-sender.md\":\"Du4P4mwS\",\"shuttle-esb_components_message-route-provider.md\":\"Dio6-TMV\",\"shuttle-esb_guide_getting-started.md\":\"C6GmQCu-\",\"shuttle-esb_components_identity-provider.md\":\"8itd9ZH7\",\"shuttle-esb_guide_patterns_deferred-messages.md\":\"DjIVC7IF\",\"shuttle-esb_implementations_queue_rabbitmq.md\":\"BAMe0eGM\",\"shuttle-core_serialization_shuttle-core-json.md\":\"Dyv6NaDb\",\"shuttle-esb_concepts_patterns_message-distribution.md\":\"uBTf8eq8\",\"shuttle-core_infrastructure_shuttle-core-encryption.md\":\"dB3fOJYQ\",\"shuttle-esb_guide_patterns_process-management.md\":\"De8Im_vk\",\"shuttle-esb_concepts_patterns_stream-processing.md\":\"DHWgyY31\",\"shuttle-esb_components_message-handler.md\":\"PUmQbIrt\",\"shuttle-esb_implementations_overview.md\":\"Cs00EaS4\",\"shuttle-esb_components_transport-message-builder.md\":\"DKzzSMLq\",\"shuttle-core_infrastructure_shuttle-core-contract.md\":\"BSE6JorI\",\"shuttle-esb_components_message-handling-assessor.md\":\"BV07egkA\",\"shuttle-esb_options_processor-thread.md\":\"BTXmLJ6A\",\"shuttle-esb_options_inbox.md\":\"DXqDkTPP\",\"shuttle-esb_modules_message-forwarding.md\":\"xwZy2p7q\",\"shuttle-esb_components_overview.md\":\"DC3NUFxw\",\"shuttle-esb_implementations_queue_azuresq.md\":\"CUelMqO1\",\"shuttle-esb_modules_throttle.md\":\"DKWh_5rh\",\"shuttle-recall_index.md\":\"B_lym63h\",\"shuttle-esb_modules_active-time-range.md\":\"fFcFLN6k\",\"shuttle-esb_options_idempotence.md\":\"jngZ284I\",\"shuttle-esb_implementations_stream_azureeh.md\":\"BZRVCn89\",\"shuttle-esb_modules_overview.md\":\"BcJtH6Xq\",\"shuttle-esb_index.md\":\"Ognfo9Sz\",\"shuttle-core_infrastructure_shuttle-core-pipelines.md\":\"xcvw9Er5\",\"shuttle-esb_concepts_patterns_request-response.md\":\"mVA2dKAG\",\"shuttle-esb_guide_patterns_stream-processing.md\":\"BiawXS4E\",\"shuttle-esb_options_message-routes.md\":\"ol7HTodV\",\"shuttle-esb_modules_purge-inbox.md\":\"kUS4NJVT\",\"shuttle-esb_implementations_idempotence_sql.md\":\"BwwOG0iE\",\"shuttle-esb_modules_purge-queues.md\":\"DuGgdelm\",\"shuttle-recall_events_sql.md\":\"ByfCW_7C\",\"shuttle-esb_modules_corrupt-transport-message.md\":\"CIcrUiBU\",\"shuttle-esb_implementations_queue_msmq.md\":\"BmgiSwC6\",\"shuttle-esb_options_subscription.md\":\"CPGeT1ck\",\"shuttle-esb_implementations_queue_filemq.md\":\"DY4RyvFY\",\"shuttle-core_infrastructure_shuttle-core-cli.md\":\"Bc21FhLz\",\"shuttle-esb_implementations_queue_sql.md\":\"Bx2mnk1s\",\"shuttle-recall_projections_sql.md\":\"JzUKNB0h\",\"shuttle-esb_implementations_subscription_sql.md\":\"vrTPq-tG\",\"shuttle-esb_implementations_queue_amazonsqs.md\":\"BYiOjxzG\",\"shuttle-esb_options_servicebus.md\":\"Dfpbz-cO\",\"shuttle-recall_why.md\":\"BsYYGbAF\",\"shuttle-esb_upgrade.md\":\"rxkBhwB1\",\"shuttle-recall_events_overview.md\":\"C5pAskVi\",\"shuttle-esb_options_control-inbox.md\":\"DUoKvAO6\",\"shuttle-esb_guide_patterns_request-response.md\":\"BwIKLj2g\",\"shuttle-recall_projections_overview.md\":\"C5M-t91E\",\"shuttle-esb_options_outbox.md\":\"Bq4VgQTL\",\"shuttle-esb_implementations_stream_kafka.md\":\"CI9RhTzv\",\"shuttle-recall_guide_getting-started.md\":\"Buoo3jvP\",\"shuttle-esb_guide_patterns_dependency-injection.md\":\"D9ZckS-2\",\"shuttle-core_data_shuttle-core-data.md\":\"DuIExFaw\",\"shuttle-esb_guide_patterns_message-idempotence.md\":\"DJG8StOQ\",\"shuttle-esb_guide_patterns_publish-subscribe.md\":\"Bgq-Qq1A\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Shuttle\",\"description\":\"Shuttle.Esb Documentation\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.svg\",\"algolia\":{\"indexName\":\"pendel\",\"appId\":\"GJYF98YRRG\",\"apiKey\":\"81ba59e2c51ff9b5a0308da85d014a3b\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/Shuttle/Pendel\"},{\"icon\":\"discord\",\"link\":\"https://discord.gg/J2suHcy2x8\"}],\"footer\":{\"copyright\":\"Copyright © 2013-2024 Eben Roux\"},\"nav\":[{\"text\":\"Core\",\"activeMatch\":\"^/shuttle-core/\",\"link\":\"/shuttle-core/index\"},{\"text\":\"Service Bus\",\"activeMatch\":\"^/shuttle-esb/\",\"link\":\"/shuttle-esb/index\"},{\"text\":\"Event Sourcing\",\"activeMatch\":\"^/shuttle-recall/\",\"link\":\"/shuttle-recall/index\"}],\"sidebar\":{\"/shuttle-esb/\":[{\"text\":\"Service Bus\",\"items\":[{\"text\":\"Concepts\",\"link\":\"/shuttle-esb/concepts/why\"},{\"text\":\"Getting started\",\"link\":\"/shuttle-esb/guide/getting-started\"},{\"text\":\"Options\",\"link\":\"/shuttle-esb/options/servicebus\"},{\"text\":\"Components\",\"link\":\"/shuttle-esb/components/overview\"},{\"text\":\"Implementations\",\"link\":\"/shuttle-esb/implementations/overview\"},{\"text\":\"Modules\",\"link\":\"/shuttle-esb/modules/overview\"},{\"text\":\"History\",\"items\":[{\"text\":\"changelog\",\"link\":\"/shuttle-esb/changelog\"},{\"text\":\"v-previous\",\"link\":\"https://shuttle.github.io/shuttle-esb-v12/\"}]}]}],\"/shuttle-esb/concepts/\":[{\"text\":\"\",\"items\":[{\"text\":\"Shuttle.Esb\",\"link\":\"/shuttle-esb/index\"}]},{\"text\":\"Concepts\",\"items\":[{\"text\":\"Why?\",\"link\":\"/shuttle-esb/concepts/why\"},{\"text\":\"Autonomous Business Components\",\"link\":\"/shuttle-esb/concepts/autonomous-business-components\"}]},{\"text\":\"Patterns\",\"items\":[{\"text\":\"Stream Processing\",\"link\":\"/shuttle-esb/concepts/patterns/stream-processing\"},{\"text\":\"Request / Response\",\"link\":\"/shuttle-esb/concepts/patterns/request-response\"},{\"text\":\"Publish / Subscribe\",\"link\":\"/shuttle-esb/concepts/patterns/publish-subscribe\"},{\"text\":\"Message Idempotence\",\"link\":\"/shuttle-esb/concepts/patterns/message-idempotence\"},{\"text\":\"Deferred Messages\",\"link\":\"/shuttle-esb/concepts/patterns/deferred-messages\"},{\"text\":\"Message Routing\",\"link\":\"/shuttle-esb/concepts/patterns/message-routing\"}]},{\"text\":\"Essentials\",\"items\":[{\"text\":\"Bounded Contexts\",\"link\":\"/shuttle-esb/concepts/essentials/bounded-contexts\"}]}],\"/shuttle-esb/guide/\":[{\"text\":\"\",\"items\":[{\"text\":\"Shuttle.Esb\",\"link\":\"/shuttle-esb/index\"}]},{\"text\":\"Overview\",\"items\":[{\"text\":\"Getting Started\",\"link\":\"/shuttle-esb/guide/getting-started\"}]},{\"text\":\"Patterns\",\"items\":[{\"text\":\"Stream Processing\",\"link\":\"/shuttle-esb/guide/patterns/stream-processing\"},{\"text\":\"Request / Response\",\"link\":\"/shuttle-esb/guide/patterns/request-response\"},{\"text\":\"Publish / Subscribe\",\"link\":\"/shuttle-esb/guide/patterns/publish-subscribe\"},{\"text\":\"Deferred Messages\",\"link\":\"/shuttle-esb/guide/patterns/deferred-messages\"},{\"text\":\"Dependency Injection\",\"link\":\"/shuttle-esb/guide/patterns/dependency-injection\"},{\"text\":\"Message Idempotence\",\"link\":\"/shuttle-esb/guide/patterns/message-idempotence\"},{\"text\":\"Process Management\",\"link\":\"/shuttle-esb/guide/patterns/process-management\"}]},{\"text\":\"Essentials\",\"items\":[{\"text\":\"Exception Handling\",\"link\":\"/shuttle-esb/guide/essentials/exception-handling\"}]}],\"/shuttle-esb/components/\":[{\"text\":\"\",\"items\":[{\"text\":\"Shuttle.Esb\",\"link\":\"/shuttle-esb/index\"}]},{\"text\":\"Implementations\",\"items\":[{\"text\":\"Idempotence Service\",\"link\":\"/shuttle-esb/components/idempotence-service\"},{\"text\":\"Identity Provider\",\"link\":\"/shuttle-esb/components/identity-provider\"},{\"text\":\"Message Handler Invoker\",\"link\":\"/shuttle-esb/components/message-handler-invoker\"},{\"text\":\"Message Handler\",\"link\":\"/shuttle-esb/components/message-handler\"},{\"text\":\"Message Handling Assessor\",\"link\":\"/shuttle-esb/components/message-handling-assessor\"},{\"text\":\"Message Route Provider\",\"link\":\"/shuttle-esb/components/message-route-provider\"},{\"text\":\"Message Sender\",\"link\":\"/shuttle-esb/components/message-sender\"},{\"text\":\"Queue Factory Service\",\"link\":\"/shuttle-esb/components/queue-factory-service\"},{\"text\":\"Queue Service\",\"link\":\"/shuttle-esb/components/queue-service\"},{\"text\":\"Policy\",\"link\":\"/shuttle-esb/components/service-bus-policy\"},{\"text\":\"Subscription Service\",\"link\":\"/shuttle-esb/components/subscription-service\"},{\"text\":\"Transport Message\",\"link\":\"/shuttle-esb/components/transport-message\"},{\"text\":\"Transport Message Builder\",\"link\":\"/shuttle-esb/components/transport-message-builder\"},{\"text\":\"Transport Header\",\"link\":\"/shuttle-esb/components/transport-header\"}]}],\"/shuttle-esb/options/\":[{\"text\":\"\",\"items\":[{\"text\":\"Shuttle.Esb\",\"link\":\"/shuttle-esb/index\"}]},{\"text\":\"Options\",\"items\":[{\"text\":\"Service Bus\",\"link\":\"/shuttle-esb/options/servicebus\"},{\"text\":\"Inbox\",\"link\":\"/shuttle-esb/options/inbox\"},{\"text\":\"Message Routes\",\"link\":\"/shuttle-esb/options/message-routes\"},{\"text\":\"Outbox\",\"link\":\"/shuttle-esb/options/outbox\"},{\"text\":\"Subscription\",\"link\":\"/shuttle-esb/options/subscription\"},{\"text\":\"Idempotence\",\"link\":\"/shuttle-esb/options/idempotence\"},{\"text\":\"Processor Thread\",\"link\":\"/shuttle-esb/options/processor-thread\"}]}],\"/shuttle-esb/implementations/\":[{\"text\":\"\",\"items\":[{\"text\":\"Shuttle.Esb\",\"link\":\"/shuttle-esb/index\"}]},{\"items\":[{\"text\":\"Overview\",\"link\":\"/shuttle-esb/implementations/overview\"}]},{\"text\":\"Streams\",\"items\":[{\"text\":\"Kafka\",\"link\":\"/shuttle-esb/implementations/stream/kafka\"},{\"text\":\"Azure Event Hubs\",\"link\":\"/shuttle-esb/implementations/stream/azureeh\"}]},{\"text\":\"Queue\",\"items\":[{\"text\":\"Amazon SQS\",\"link\":\"/shuttle-esb/implementations/queue/amazonsqs\"},{\"text\":\"Azure Storage Queues\",\"link\":\"/shuttle-esb/implementations/queue/azuresq\"},{\"text\":\"File\",\"link\":\"/shuttle-esb/implementations/queue/filemq\"},{\"text\":\"MSMQ\",\"link\":\"/shuttle-esb/implementations/queue/msmq\"},{\"text\":\"RabbitMQ\",\"link\":\"/shuttle-esb/implementations/queue/rabbitmq\"},{\"text\":\"SQL\",\"link\":\"/shuttle-esb/implementations/queue/sql\"}]},{\"text\":\"Subscription\",\"items\":[{\"text\":\"SQL\",\"link\":\"/shuttle-esb/implementations/subscription/sql\"}]},{\"text\":\"Idempotence\",\"items\":[{\"text\":\"SQL\",\"link\":\"/shuttle-esb/implementations/idempotence/sql\"}]}],\"/shuttle-esb/modules/\":[{\"text\":\"\",\"items\":[{\"text\":\"Shuttle.Esb\",\"link\":\"/shuttle-esb/index\"}]},{\"text\":\"Implementations\",\"items\":[{\"text\":\"Active Time Range\",\"link\":\"/shuttle-esb/modules/active-time-range\"},{\"text\":\"Corrupt Transport Message\",\"link\":\"/shuttle-esb/modules/corrupt-transport-message\"},{\"text\":\"Message Forwarding\",\"link\":\"/shuttle-esb/modules/message-forwarding\"},{\"text\":\"Purge Inbox\",\"link\":\"/shuttle-esb/modules/purge-inbox\"},{\"text\":\"Purge Queues\",\"link\":\"/shuttle-esb/modules/purge-queues\"},{\"text\":\"Throttle\",\"link\":\"/shuttle-esb/modules/throttle\"}]}],\"/shuttle-core/\":[{\"text\":\"Shuttle.Core\",\"items\":[{\"text\":\"Infrastructure\",\"activeMatch\":\"^/infrastructure/\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-cli\"},{\"text\":\"Data / Micro ORM\",\"activeMatch\":\"^/data/\",\"link\":\"/shuttle-core/data/shuttle-core-data\"},{\"text\":\"Serialization\",\"activeMatch\":\"^/serialization/\",\"link\":\"/shuttle-core/serialization/shuttle-core-serialization\"},{\"text\":\"Hosting\",\"activeMatch\":\"^/core/\",\"link\":\"/shuttle-core/core/hosting\"},{\"text\":\"v-previous\",\"link\":\"https://shuttle.github.io/shuttle-core-pre-ms-di/\"}]}],\"/shuttle-core/infrastructure/\":[{\"text\":\"\",\"items\":[{\"text\":\"Shuttle.Core\",\"link\":\"/shuttle-core/index\"}]},{\"text\":\"Infrastructure\",\"items\":[{\"text\":\"Cli\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-cli\"},{\"text\":\"Compression\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-compression\"},{\"text\":\"Contract\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-contract\"},{\"text\":\"Cron\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-cron\"},{\"text\":\"Dependency Injection\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-dependencyinjection\"},{\"text\":\"Encryption\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-encryption\"},{\"text\":\"Mediator\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-mediator\"},{\"text\":\"Pipelines\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-pipelines\"},{\"text\":\"Reflection\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-reflection\"},{\"text\":\"Specification\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-specification\"},{\"text\":\"Streams\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-streams\"},{\"text\":\"System\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-system\"},{\"text\":\"Threading\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-threading\"},{\"text\":\"Transactions\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-transactions\"}]}],\"/shuttle-core/data/\":[{\"text\":\"\",\"items\":[{\"text\":\"Shuttle.Core\",\"link\":\"/shuttle-core/index\"}]},{\"text\":\"Data / Micro ORM\",\"items\":[{\"text\":\"Shuttle.Core.Data\",\"link\":\"/shuttle-core/data/shuttle-core-data\"}]}],\"/shuttle-core/serialization/\":[{\"text\":\"\",\"items\":[{\"text\":\"Shuttle.Core\",\"link\":\"/shuttle-core/index\"}]},{\"text\":\"Serialization\",\"items\":[{\"text\":\"Shuttle.Core.Serialization\",\"link\":\"/shuttle-core/serialization/shuttle-core-serialization\"}]},{\"text\":\"Implementations\",\"items\":[{\"text\":\"Json\",\"link\":\"/shuttle-core/serialization/shuttle-core-json\"}]}],\"/shuttle-recall/\":[{\"text\":\"Shuttle.Recall\",\"items\":[{\"text\":\"Getting started\",\"link\":\"/shuttle-recall/guide/getting-started\"},{\"text\":\"Events\",\"link\":\"/shuttle-recall/events/overview\"},{\"text\":\"Projections\",\"link\":\"/shuttle-recall/projections/overview\"}]}],\"/shuttle-recall/guide/\":[{\"text\":\"\",\"items\":[{\"text\":\"Shuttle.Recall\",\"link\":\"/shuttle-recall/index\"}]},{\"text\":\"\",\"items\":[{\"text\":\"Getting Started\",\"link\":\"/shuttle-recall/guide/getting-started\"}]}],\"/shuttle-recall/events/\":[{\"text\":\"\",\"items\":[{\"text\":\"Shuttle.Recall\",\"link\":\"/shuttle-recall/index\"}]},{\"text\":\"Events\",\"items\":[{\"text\":\"Overview\",\"link\":\"/shuttle-recall/events/overview\"}]},{\"text\":\"Implementations\",\"items\":[{\"text\":\"SQL\",\"link\":\"/shuttle-recall/events/sql\"}]}],\"/shuttle-recall/projections/\":[{\"text\":\"\",\"items\":[{\"text\":\"Shuttle.Recall\",\"link\":\"/shuttle-recall/index\"}]},{\"text\":\"Projections\",\"items\":[{\"text\":\"Overview\",\"link\":\"/shuttle-recall/projections/overview\"}]},{\"text\":\"Implementations\",\"items\":[{\"text\":\"SQL\",\"link\":\"/shuttle-recall/projections/sql\"}]}]}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>