<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Dependency Injection | Shuttle</title>
    <meta name="description" content="Shuttle Documentation (pre-v20)">
    <meta name="generator" content="VitePress v1.1.4">
    <link rel="preload stylesheet" href="/prendel-pre-v20/assets/style.CC8yliZE.css" as="style">
    
    <script type="module" src="/prendel-pre-v20/assets/app.CizS37Ih.js"></script>
    <link rel="preload" href="/prendel-pre-v20/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/prendel-pre-v20/assets/chunks/framework.DpOsACmt.js">
    <link rel="modulepreload" href="/prendel-pre-v20/assets/chunks/theme.Xgn1GrJ1.js">
    <link rel="modulepreload" href="/prendel-pre-v20/assets/shuttle-esb_guide_patterns_dependency-injection.md.B1tGthVe.lean.js">
    <link rel="shortcut icon" href="/favicon.ico">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar has-sidebar top" data-v-ae24b3ad data-v-ccf7ddec><div class="wrapper" data-v-ccf7ddec><div class="container" data-v-ccf7ddec><div class="title" data-v-ccf7ddec><div class="VPNavBarTitle has-sidebar" data-v-ccf7ddec data-v-ab179fa1><a class="title" href="/prendel-pre-v20/" data-v-ab179fa1><!--[--><!--]--><!--[--><img class="VPImage logo" src="/prendel-pre-v20/logo.svg" alt data-v-8426fc1a><!--]--><span data-v-ab179fa1>Shuttle (pre-v20)</span><!--[--><!--]--></a></div></div><div class="content" data-v-ccf7ddec><div class="content-body" data-v-ccf7ddec><!--[--><!--]--><div class="VPNavBarSearch search" data-v-ccf7ddec><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-ccf7ddec data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://pendel.co.za" target="_blank" rel="noreferrer" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>Latest Documentation</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/prendel-pre-v20/shuttle-core/index.html" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>Core</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/prendel-pre-v20/shuttle-esb/index.html" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>Service Bus</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/prendel-pre-v20/shuttle-recall/index.html" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>Event Sourcing</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-ccf7ddec data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-e6aabb21 data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-ccf7ddec data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Shuttle/pendel-pre-v20" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><a class="VPSocialLink no-icon" href="https://discord.gg/J2suHcy2x8" aria-label="discord" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-discord" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-ccf7ddec data-v-d0bd9dde data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-d0bd9dde><div class="item appearance" data-v-d0bd9dde><p class="label" data-v-d0bd9dde>Appearance</p><div class="appearance-action" data-v-d0bd9dde><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-d0bd9dde data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d0bd9dde><div class="item social-links" data-v-d0bd9dde><div class="VPSocialLinks social-links-list" data-v-d0bd9dde data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Shuttle/pendel-pre-v20" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><a class="VPSocialLink no-icon" href="https://discord.gg/J2suHcy2x8" aria-label="discord" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-discord" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-ccf7ddec data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-ccf7ddec><div class="divider-line" data-v-ccf7ddec></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-17a5e62e><button data-v-17a5e62e>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-575e6a36><div class="curtain" data-v-575e6a36></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-575e6a36><span class="visually-hidden" id="sidebar-aria-label" data-v-575e6a36> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0" data-v-575e6a36 data-v-b8d55f3b><!----><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/prendel-pre-v20/shuttle-esb/index.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Shuttle.Esb</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>Overview</h2><!----></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/prendel-pre-v20/shuttle-esb/guide/getting-started.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Getting Started</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 has-active" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>Patterns</h2><!----></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/prendel-pre-v20/shuttle-esb/guide/patterns/stream-processing.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Stream Processing</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/prendel-pre-v20/shuttle-esb/guide/patterns/request-response.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Request / Response</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/prendel-pre-v20/shuttle-esb/guide/patterns/publish-subscribe.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Publish / Subscribe</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/prendel-pre-v20/shuttle-esb/guide/patterns/deferred-messages.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Deferred Messages</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/prendel-pre-v20/shuttle-esb/guide/patterns/dependency-injection.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Dependency Injection</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/prendel-pre-v20/shuttle-esb/guide/patterns/message-idempotence.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Message Idempotence</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/prendel-pre-v20/shuttle-esb/guide/patterns/process-management.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Process Management</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>Essentials</h2><!----></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/prendel-pre-v20/shuttle-esb/guide/essentials/exception-handling.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Exception Handling</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" role="navigation" data-v-3f215769 data-v-269c27a6><div class="content" data-v-269c27a6><div class="outline-marker" data-v-269c27a6></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-269c27a6>On this page</div><ul class="VPDocOutlineItem root" data-v-269c27a6 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _prendel-pre-v20_shuttle-esb_guide_patterns_dependency-injection" data-v-39a288b8><div><h1 id="dependency-injection" tabindex="-1">Dependency Injection <a class="header-anchor" href="#dependency-injection" aria-label="Permalink to &quot;Dependency Injection&quot;">​</a></h1><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Remember that you can download the samples from the <a href="https://github.com/Shuttle/Shuttle.Esb.Samples" target="_blank">GitHub repository</a>.</p></div><p>This sample makes use of <a href="https://github.com/Shuttle/Shuttle.Esb.AzureStorageQueues" target="_blank" rel="noreferrer">Shuttle.Esb.AzureStorageQueues</a> for the message queues. Local Azure Storage Queues should be provided by <a href="https://docs.microsoft.com/en-us/azure/storage/common/storage-use-azurite?tabs=visual-studio" target="_blank" rel="noreferrer">Azurite</a>.</p><p>Once you have opened the <code>Shuttle.DependencyInjection.sln</code> solution in Visual Studio set the following projects as startup projects:</p><ul><li>Shuttle.DependencyInjection.Client</li><li>Shuttle.DependencyInjection.Server</li></ul><h2 id="implementation" tabindex="-1">Implementation <a class="header-anchor" href="#implementation" aria-label="Permalink to &quot;Implementation&quot;">​</a></h2><p>Since .NET provides a production-ready dependency injection framework, this sample will demonstrate a very simple use-case.</p><p>In this guide we&#39;ll create the following projects:</p><ul><li><code>Shuttle.DependencyInjection.Client</code> (<strong>Console Application</strong>)</li><li><code>Shuttle.DependencyInjection.Server</code> (<strong>Console Application</strong>)</li><li><code>Shuttle.DependencyInjection.EMail</code> (<strong>Class Library</strong>)</li><li><code>Shuttle.DependencyInjection.Messages</code> (<strong>Class Library</strong>)</li></ul><h2 id="messages" tabindex="-1">Messages <a class="header-anchor" href="#messages" aria-label="Permalink to &quot;Messages&quot;">​</a></h2><blockquote><p>Create a new class library called <code>Shuttle.DependencyInjection.Messages</code> with a solution called <code>Shuttle.DependencyInjection</code></p></blockquote><p><strong>Note</strong>: remember to change the <em>Solution name</em>.</p><h3 id="registermember" tabindex="-1">RegisterMember <a class="header-anchor" href="#registermember" aria-label="Permalink to &quot;RegisterMember&quot;">​</a></h3><blockquote><p>Rename the <code>Class1</code> default file to <code>RegisterMember</code> and add a <code>UserName</code> property.</p></blockquote><div class="language-c# vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Shuttle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DependencyInjection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Messages</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RegisterMember</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UserName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="client" tabindex="-1">Client <a class="header-anchor" href="#client" aria-label="Permalink to &quot;Client&quot;">​</a></h2><blockquote><p>Add a new <code>Console Application</code> to the solution called <code>Shuttle.DependencyInjection.Client</code>.</p></blockquote><blockquote><p>Install the <code>Shuttle.Esb.AzureStorageQueues</code> nuget package.</p></blockquote><p>This will provide access to the Azure Storage Queues <code>IQueue</code> implementation and also include the required dependencies.</p><blockquote><p>Install the <code>Microsoft.Extensions.Configuration.Json</code> nuget package.</p></blockquote><p>This will provide the ability to read the <code>appsettings.json</code> file.</p><blockquote><p>Add a reference to the <code>Shuttle.DependencyInjection.Messages</code> project.</p></blockquote><h3 id="program" tabindex="-1">Program <a class="header-anchor" href="#program" aria-label="Permalink to &quot;Program&quot;">​</a></h3><blockquote><p>Implement the main client code as follows:</p></blockquote><div class="language-c# vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> System</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Microsoft</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Extensions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Microsoft</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Extensions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DependencyInjection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Shuttle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DependencyInjection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Messages</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Shuttle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Esb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Shuttle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Esb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AzureStorageQueues</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Shuttle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DependencyInjection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Client</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    internal</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Program</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> services</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ServiceCollection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> configuration</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ConfigurationBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AddJsonFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;appsettings.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            services.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AddSingleton</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IConfiguration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(configuration);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            services.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AddServiceBus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">builder</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                configuration.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GetSection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ServiceBusOptions.SectionName).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Bind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(builder.Options);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            services.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AddAzureStorageQueues</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">builder</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                builder.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AddOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;azure&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AzureStorageQueueOptions</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    ConnectionString </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;UseDevelopmentStorage=true;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			Console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Type some characters and then press [enter] to submit; an empty line submission stops execution:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			Console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> serviceBus</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> services.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">BuildServiceProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GetRequiredService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IServiceBus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> userName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IsNullOrEmpty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(userName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ReadLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    serviceBus.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RegisterMember</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        UserName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> userName</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="client-configuration-file" tabindex="-1">Client configuration file <a class="header-anchor" href="#client-configuration-file" aria-label="Permalink to &quot;Client configuration file&quot;">​</a></h3><blockquote><p>Add an <code>appsettings.json</code> file as follows:</p></blockquote><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Shuttle&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;ServiceBus&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;MessageRoutes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;Uri&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;azuresq://azure/shuttle-server-work&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;Specifications&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">              &quot;Name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;StartsWith&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">              &quot;Value&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Shuttle.DependencyInjection.Messages&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>This tells Shuttle.Esb that all messages that are sent and have a type name starting with <code>Shuttle.DependencyInjection.Messages</code> should be sent to endpoint <code>azuresq://azure/shuttle-server-work</code>.</p><h2 id="e-mail" tabindex="-1">E-Mail <a class="header-anchor" href="#e-mail" aria-label="Permalink to &quot;E-Mail&quot;">​</a></h2><p>To demonstrate the dependency injection we will create a fake e-mail service that we intend using in the server endpoint.</p><blockquote><p>Add a new <code>Class Library</code> to the solution called <code>Shuttle.DependencyInjection.EMail</code>.</p></blockquote><h3 id="iemailservice" tabindex="-1">IEMailService <a class="header-anchor" href="#iemailservice" aria-label="Permalink to &quot;IEMailService&quot;">​</a></h3><blockquote><p>Add an interface called <code>IEMailService</code> and implement it as follows:</p></blockquote><div class="language-c# vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Shuttle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DependencyInjection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">EMail</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IEMailService</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="emailservice" tabindex="-1">EMailService <a class="header-anchor" href="#emailservice" aria-label="Permalink to &quot;EMailService&quot;">​</a></h3><blockquote><p>Rename the default <code>Class1</code> file to <code>EMailService</code> and implement the <code>IEMailService</code> interfaces as follows:</p></blockquote><div class="language-c# vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> System</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> System</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Threading</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Shuttle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DependencyInjection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">EMail</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EMailService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IEMailService</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			Console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			Console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;[SENDING E-MAIL] : name = &#39;{0}&#39;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, name);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			Console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			Thread.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Sleep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// simulate communication wait time</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			Console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			Console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;[E-MAIL SENT] : name = &#39;{0}&#39;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, name);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			Console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="server" tabindex="-1">Server <a class="header-anchor" href="#server" aria-label="Permalink to &quot;Server&quot;">​</a></h2><blockquote><p>Add a new <code>Console Application</code> to the solution called <code>Shuttle.DependencyInjection.Server</code>.</p></blockquote><blockquote><p>Install the <code>Shuttle.Esb.AzureStorageQueues</code> nuget package.</p></blockquote><p>This will provide access to the Azure Storage Queues <code>IQueue</code> implementation and also include the required dependencies.</p><blockquote><p>Install the <code>Microsoft.Extensions.Hosting</code> nuget package.</p></blockquote><p>This allows a console application to be hosted using the .NET generic host.</p><blockquote><p>Install the <code>Microsoft.Extensions.Configuration.Json</code> nuget package.</p></blockquote><p>This will provide the ability to read the <code>appsettings.json</code> file.</p><blockquote><p>Add references to both the <code>Shuttle.DependencyInjection.Messages</code> and <code>Shuttle.DependencyInjection.EMail</code> projects.</p></blockquote><h3 id="program-1" tabindex="-1">Program <a class="header-anchor" href="#program-1" aria-label="Permalink to &quot;Program&quot;">​</a></h3><blockquote><p>Implement the <code>Program</code> class as follows:</p></blockquote><div class="language-c# vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Microsoft</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Extensions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Microsoft</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Extensions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DependencyInjection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Microsoft</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Extensions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Hosting</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Shuttle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DependencyInjection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">EMail</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Shuttle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Esb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Shuttle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Esb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AzureStorageQueues</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Shuttle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DependencyInjection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Server</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Program</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Task</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Host.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CreateDefaultBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ConfigureServices</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">services</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                    var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> configuration</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ConfigurationBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AddJsonFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;appsettings.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    services.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AddSingleton</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IConfiguration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(configuration);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    services.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AddSingleton</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IEMailService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">EMailService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    services.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AddServiceBus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">builder</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        configuration.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GetSection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ServiceBusOptions.SectionName).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Bind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(builder.Options);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        builder.Options.Asynchronous </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    services.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AddAzureStorageQueues</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">builder</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        builder.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AddOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;azure&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AzureStorageQueueOptions</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                            ConnectionString </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> configuration.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GetConnectionString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;azure&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RunAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="server-configuration-file" tabindex="-1">Server configuration file <a class="header-anchor" href="#server-configuration-file" aria-label="Permalink to &quot;Server configuration file&quot;">​</a></h3><blockquote><p>Add an <code>appsettings.json</code> file as follows:</p></blockquote><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;ConnectionStrings&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;azure&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;UseDevelopmentStorage=true;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Shuttle&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;ServiceBus&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Inbox&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;WorkQueueUri&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;azuresq://azure/shuttle-server-work&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;ErrorQueueUri&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;azuresq://azure/shuttle-error&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="registermemberhandler" tabindex="-1">RegisterMemberHandler <a class="header-anchor" href="#registermemberhandler" aria-label="Permalink to &quot;RegisterMemberHandler&quot;">​</a></h3><blockquote><p>Add a new class called <code>RegisterMemberHandler</code> that implements the <code>IMessageHandler&lt;RegisterMember&gt;</code> interface as follows:</p></blockquote><div class="language-c# vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> System</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Shuttle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Contract</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Shuttle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DependencyInjection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">EMail</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Shuttle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Esb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Shuttle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DependencyInjection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Messages</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Shuttle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DependencyInjection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Server</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RegisterMemberHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IAsyncMessageHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RegisterMember</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> readonly</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IEMailService</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> _emailService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RegisterMemberHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IEMailService</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> emailService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			Guard.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AgainstNull</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(emailService, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">nameof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(emailService));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			_emailService </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> emailService;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Task</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ProcessMessageAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IHandlerContext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RegisterMember</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			Console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			Console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;[MEMBER REGISTERED] : user name = &#39;{0}&#39;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, context.Message.UserName);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			Console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			_emailService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(context.Message.UserName);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Task.CompletedTask;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>This will write out some information to the console window. The injected e-mail service will also be invoked and you&#39;ll see the result in the console window.</p><h2 id="run" tabindex="-1">Run <a class="header-anchor" href="#run" aria-label="Permalink to &quot;Run&quot;">​</a></h2><blockquote><p>Set both the client and server projects as the startup.</p></blockquote><h3 id="execute" tabindex="-1">Execute <a class="header-anchor" href="#execute" aria-label="Permalink to &quot;Execute&quot;">​</a></h3><blockquote><p>Execute the application.</p></blockquote><blockquote><p>The <strong>client</strong> application will wait for you to input a user name. For this example enter <strong>my user name</strong> and press enter:</p></blockquote><div class="info custom-block"><p class="custom-block-title">INFO</p><p>You will notice that the server application has processed the message and simulated sending an e-mail though the <code>IEMailService</code> implementation.</p></div><p>You have now implemented dependency injection for message handlers.</p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-d4a0bba5><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-d4a0bba5><span class="visually-hidden" id="doc-footer-aria-label" data-v-d4a0bba5>Pager</span><div class="pager" data-v-d4a0bba5><a class="VPLink link pager-link prev" href="/prendel-pre-v20/shuttle-esb/guide/patterns/deferred-messages.html" data-v-d4a0bba5><!--[--><span class="desc" data-v-d4a0bba5>Previous page</span><span class="title" data-v-d4a0bba5>Deferred Messages</span><!--]--></a></div><div class="pager" data-v-d4a0bba5><a class="VPLink link pager-link next" href="/prendel-pre-v20/shuttle-esb/guide/patterns/message-idempotence.html" data-v-d4a0bba5><!--[--><span class="desc" data-v-d4a0bba5>Next page</span><span class="title" data-v-d4a0bba5>Message Idempotence</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><!----><p class="copyright" data-v-e315a0ad>Copyright © 2013-2024 Eben Roux</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"shuttle-core_infrastructure_shuttle-core-dependencyinjection.md\":\"BZ5S6Eww\",\"shuttle-esb_concepts_patterns_stream-processing.md\":\"HHZ2ASN0\",\"shuttle-esb_components_message-handler.md\":\"CFvNzgbh\",\"shuttle-esb_modules_corrupt-transport-message.md\":\"DBdT_c-9\",\"index.md\":\"BM1TMCsF\",\"shuttle-core_core_hosting.md\":\"C38xrqYK\",\"shuttle-esb_components_message-sender.md\":\"C1Jq_U_m\",\"shuttle-esb_concepts_essentials_bounded-contexts.md\":\"DLY2x54G\",\"shuttle-esb_components_transport-message-builder.md\":\"B8ehykgY\",\"shuttle-core_infrastructure_shuttle-core-encryption.md\":\"B3SLb3HP\",\"shuttle-esb_components_message-handling-assessor.md\":\"ACVUO6W7\",\"shuttle-esb_components_subscription-service.md\":\"ChIQdgf4\",\"shuttle-esb_components_overview.md\":\"eOiyYx2w\",\"shuttle-esb_options_message-routes.md\":\"BU5KDZ5E\",\"shuttle-esb_modules_purge-inbox.md\":\"C7YliS8p\",\"shuttle-esb_implementations_queue_msmq.md\":\"S6gZF8lC\",\"shuttle-esb_options_idempotence.md\":\"DCfwG39V\",\"shuttle-core_serialization_shuttle-core-json.md\":\"DY8T4m8a\",\"shuttle-esb_modules_throttle.md\":\"BqjczfrK\",\"shuttle-esb_options_subscription.md\":\"C7i5xltR\",\"shuttle-esb_implementations_queue_amazonsqs.md\":\"B6nwguOU\",\"shuttle-core_infrastructure_shuttle-core-system.md\":\"BYBfPeDS\",\"shuttle-esb_concepts_patterns_request-response.md\":\"DF5SDSjD\",\"shuttle-core_infrastructure_shuttle-core-mediator.md\":\"Bhx-mTkE\",\"shuttle-esb_options_inbox.md\":\"BaAarkt9\",\"shuttle-recall_events_sql.md\":\"BJkW6Bkl\",\"shuttle-recall_events_overview.md\":\"C-vy65mH\",\"shuttle-esb_concepts_patterns_publish-subscribe.md\":\"C9hO18nL\",\"shuttle-core_infrastructure_shuttle-core-specification.md\":\"C3X0A168\",\"shuttle-esb_components_service-bus-policy.md\":\"BxhltQ6-\",\"shuttle-esb_components_queue-service.md\":\"B6KBCqqG\",\"shuttle-core_infrastructure_shuttle-core-streams.md\":\"Cd6bzgJP\",\"shuttle-esb_implementations_queue_sql.md\":\"C3n-uJXB\",\"shuttle-core_index.md\":\"dabP3r6l\",\"shuttle-esb_options_outbox.md\":\"G4KO-_x0\",\"shuttle-esb_implementations_queue_azuresq.md\":\"C7jKxJ4O\",\"shuttle-esb_options_servicebus.md\":\"DOPNN2Ry\",\"shuttle-esb_components_transport-message.md\":\"D0RQUhqY\",\"shuttle-esb_implementations_queue_filemq.md\":\"BDUs2c6S\",\"shuttle-recall_projections_overview.md\":\"B2TJ8kvm\",\"shuttle-core_infrastructure_shuttle-core-reflection.md\":\"BCqOhsWW\",\"shuttle-esb_implementations_queue_rabbitmq.md\":\"COoA6JV6\",\"shuttle-core_infrastructure_shuttle-core-threading.md\":\"m6tvXGjw\",\"shuttle-esb_concepts_patterns_message-routing.md\":\"DbUd6NLU\",\"shuttle-esb_guide_patterns_dependency-injection.md\":\"B1tGthVe\",\"shuttle-esb_modules_message-forwarding.md\":\"BleirdC5\",\"shuttle-esb_components_identity-provider.md\":\"1758WQ3f\",\"shuttle-core_infrastructure_shuttle-core-contract.md\":\"DIW-I9gM\",\"shuttle-core_serialization_shuttle-core-serialization.md\":\"ByHGXQAf\",\"shuttle-esb_concepts_autonomous-business-components.md\":\"bjhn49Pk\",\"shuttle-esb_concepts_patterns_message-idempotence.md\":\"BdXa3pIs\",\"shuttle-core_infrastructure_shuttle-core-compression.md\":\"DLqWj770\",\"shuttle-esb_components_idempotence-service.md\":\"DdG2Wrbj\",\"shuttle-esb_components_queue-factory-service.md\":\"DCET5DnU\",\"shuttle-esb_changelog.md\":\"Bu_hDnCd\",\"shuttle-core_upgrade-ms-di.md\":\"BMAVLaYG\",\"shuttle-esb_modules_overview.md\":\"NRUXGjbB\",\"shuttle-esb_guide_getting-started.md\":\"DiuDhCP4\",\"shuttle-esb_implementations_stream_azureeh.md\":\"BcFp6K79\",\"shuttle-esb_guide_patterns_deferred-messages.md\":\"ZwT8kew9\",\"shuttle-core_infrastructure_shuttle-core-cli.md\":\"xjDrkJ8x\",\"shuttle-esb_modules_active-time-range.md\":\"BiOXD6qC\",\"shuttle-esb_guide_patterns_message-idempotence.md\":\"DuFB01SU\",\"shuttle-esb_implementations_subscription_sql.md\":\"TAOjE5Ij\",\"shuttle-esb_index.md\":\"CTRuLjrW\",\"shuttle-core_infrastructure_shuttle-core-transactions.md\":\"t_2U-wnK\",\"shuttle-esb_guide_patterns_stream-processing.md\":\"CBGhNk-S\",\"shuttle-recall_projections_sql.md\":\"CduRx2VB\",\"shuttle-recall_guide_getting-started.md\":\"DM3pD_BJ\",\"shuttle-esb_concepts_why.md\":\"ukOTYDRz\",\"shuttle-esb_options_processor-thread.md\":\"CWVrnP0N\",\"shuttle-core_infrastructure_shuttle-core-cron.md\":\"AzsLqWJM\",\"shuttle-esb_concepts_patterns_deferred-messages.md\":\"BhuHZMQ-\",\"shuttle-esb_guide_essentials_exception-handling.md\":\"CqGKa5Xp\",\"shuttle-esb_components_message-handler-invoker.md\":\"2f46IW-C\",\"shuttle-esb_components_transport-header.md\":\"DNz_7XDb\",\"shuttle-esb_implementations_idempotence_sql.md\":\"BYZ6X9j_\",\"shuttle-esb_guide_patterns_process-management.md\":\"BI4giRKj\",\"shuttle-esb_modules_purge-queues.md\":\"CcvXEdBG\",\"shuttle-recall_why.md\":\"BYHmpxCp\",\"shuttle-esb_upgrade.md\":\"BuM7cNIl\",\"shuttle-recall_index.md\":\"D03OKIXm\",\"shuttle-core_data_shuttle-core-data.md\":\"BzL8MfWH\",\"shuttle-esb_implementations_overview.md\":\"BPE9KvB2\",\"shuttle-esb_guide_patterns_publish-subscribe.md\":\"D_yiVBlI\",\"shuttle-esb_components_message-route-provider.md\":\"BEx6balo\",\"shuttle-esb_implementations_stream_kafka.md\":\"CadnTCIP\",\"shuttle-core_infrastructure_shuttle-core-pipelines.md\":\"CJvqA846\",\"shuttle-esb_guide_patterns_request-response.md\":\"C5Bf2cxv\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Shuttle\",\"description\":\"Shuttle Documentation (pre-v20)\",\"base\":\"/prendel-pre-v20/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"siteTitle\":\"Shuttle (pre-v20)\",\"search\":{\"provider\":\"local\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/Shuttle/pendel-pre-v20\"},{\"icon\":\"discord\",\"link\":\"https://discord.gg/J2suHcy2x8\"}],\"logo\":\"/logo.svg\",\"footer\":{\"copyright\":\"Copyright © 2013-2024 Eben Roux\"},\"nav\":[{\"text\":\"Latest Documentation\",\"link\":\"https://pendel.co.za\"},{\"text\":\"Core\",\"activeMatch\":\"^/shuttle-core/\",\"link\":\"/shuttle-core/index\"},{\"text\":\"Service Bus\",\"activeMatch\":\"^/shuttle-esb/\",\"link\":\"/shuttle-esb/index\"},{\"text\":\"Event Sourcing\",\"activeMatch\":\"^/shuttle-recall/\",\"link\":\"/shuttle-recall/index\"}],\"sidebar\":{\"/shuttle-esb/\":[{\"text\":\"Service Bus\",\"items\":[{\"text\":\"Concepts\",\"link\":\"/shuttle-esb/concepts/why\"},{\"text\":\"Getting started\",\"link\":\"/shuttle-esb/guide/getting-started\"},{\"text\":\"Options\",\"link\":\"/shuttle-esb/options/servicebus\"},{\"text\":\"Components\",\"link\":\"/shuttle-esb/components/overview\"},{\"text\":\"Implementations\",\"link\":\"/shuttle-esb/implementations/overview\"},{\"text\":\"Modules\",\"link\":\"/shuttle-esb/modules/overview\"},{\"text\":\"History\",\"items\":[{\"text\":\"changelog\",\"link\":\"/shuttle-esb/changelog\"},{\"text\":\"v-previous\",\"link\":\"https://shuttle.github.io/shuttle-esb-v12/\"}]}]}],\"/shuttle-esb/concepts/\":[{\"text\":\"\",\"items\":[{\"text\":\"Shuttle.Esb\",\"link\":\"/shuttle-esb/index\"}]},{\"text\":\"Concepts\",\"items\":[{\"text\":\"Why?\",\"link\":\"/shuttle-esb/concepts/why\"},{\"text\":\"Autonomous Business Components\",\"link\":\"/shuttle-esb/concepts/autonomous-business-components\"}]},{\"text\":\"Patterns\",\"items\":[{\"text\":\"Stream Processing\",\"link\":\"/shuttle-esb/concepts/patterns/stream-processing\"},{\"text\":\"Request / Response\",\"link\":\"/shuttle-esb/concepts/patterns/request-response\"},{\"text\":\"Publish / Subscribe\",\"link\":\"/shuttle-esb/concepts/patterns/publish-subscribe\"},{\"text\":\"Message Idempotence\",\"link\":\"/shuttle-esb/concepts/patterns/message-idempotence\"},{\"text\":\"Deferred Messages\",\"link\":\"/shuttle-esb/concepts/patterns/deferred-messages\"},{\"text\":\"Message Routing\",\"link\":\"/shuttle-esb/concepts/patterns/message-routing\"}]},{\"text\":\"Essentials\",\"items\":[{\"text\":\"Bounded Contexts\",\"link\":\"/shuttle-esb/concepts/essentials/bounded-contexts\"}]}],\"/shuttle-esb/guide/\":[{\"text\":\"\",\"items\":[{\"text\":\"Shuttle.Esb\",\"link\":\"/shuttle-esb/index\"}]},{\"text\":\"Overview\",\"items\":[{\"text\":\"Getting Started\",\"link\":\"/shuttle-esb/guide/getting-started\"}]},{\"text\":\"Patterns\",\"items\":[{\"text\":\"Stream Processing\",\"link\":\"/shuttle-esb/guide/patterns/stream-processing\"},{\"text\":\"Request / Response\",\"link\":\"/shuttle-esb/guide/patterns/request-response\"},{\"text\":\"Publish / Subscribe\",\"link\":\"/shuttle-esb/guide/patterns/publish-subscribe\"},{\"text\":\"Deferred Messages\",\"link\":\"/shuttle-esb/guide/patterns/deferred-messages\"},{\"text\":\"Dependency Injection\",\"link\":\"/shuttle-esb/guide/patterns/dependency-injection\"},{\"text\":\"Message Idempotence\",\"link\":\"/shuttle-esb/guide/patterns/message-idempotence\"},{\"text\":\"Process Management\",\"link\":\"/shuttle-esb/guide/patterns/process-management\"}]},{\"text\":\"Essentials\",\"items\":[{\"text\":\"Exception Handling\",\"link\":\"/shuttle-esb/guide/essentials/exception-handling\"}]}],\"/shuttle-esb/components/\":[{\"text\":\"\",\"items\":[{\"text\":\"Shuttle.Esb\",\"link\":\"/shuttle-esb/index\"}]},{\"text\":\"Implementations\",\"items\":[{\"text\":\"Idempotence Service\",\"link\":\"/shuttle-esb/components/idempotence-service\"},{\"text\":\"Identity Provider\",\"link\":\"/shuttle-esb/components/identity-provider\"},{\"text\":\"Message Handler Invoker\",\"link\":\"/shuttle-esb/components/message-handler-invoker\"},{\"text\":\"Message Handler\",\"link\":\"/shuttle-esb/components/message-handler\"},{\"text\":\"Message Handling Assessor\",\"link\":\"/shuttle-esb/components/message-handling-assessor\"},{\"text\":\"Message Route Provider\",\"link\":\"/shuttle-esb/components/message-route-provider\"},{\"text\":\"Message Sender\",\"link\":\"/shuttle-esb/components/message-sender\"},{\"text\":\"Queue Factory Service\",\"link\":\"/shuttle-esb/components/queue-factory-service\"},{\"text\":\"Queue Service\",\"link\":\"/shuttle-esb/components/queue-service\"},{\"text\":\"Policy\",\"link\":\"/shuttle-esb/components/service-bus-policy\"},{\"text\":\"Subscription Service\",\"link\":\"/shuttle-esb/components/subscription-service\"},{\"text\":\"Transport Message\",\"link\":\"/shuttle-esb/components/transport-message\"},{\"text\":\"Transport Message Builder\",\"link\":\"/shuttle-esb/components/transport-message-builder\"},{\"text\":\"Transport Header\",\"link\":\"/shuttle-esb/components/transport-header\"}]}],\"/shuttle-esb/options/\":[{\"text\":\"\",\"items\":[{\"text\":\"Shuttle.Esb\",\"link\":\"/shuttle-esb/index\"}]},{\"text\":\"Options\",\"items\":[{\"text\":\"Service Bus\",\"link\":\"/shuttle-esb/options/servicebus\"},{\"text\":\"Inbox\",\"link\":\"/shuttle-esb/options/inbox\"},{\"text\":\"Message Routes\",\"link\":\"/shuttle-esb/options/message-routes\"},{\"text\":\"Outbox\",\"link\":\"/shuttle-esb/options/outbox\"},{\"text\":\"Subscription\",\"link\":\"/shuttle-esb/options/subscription\"},{\"text\":\"Idempotence\",\"link\":\"/shuttle-esb/options/idempotence\"},{\"text\":\"Processor Thread\",\"link\":\"/shuttle-esb/options/processor-thread\"}]}],\"/shuttle-esb/implementations/\":[{\"text\":\"\",\"items\":[{\"text\":\"Shuttle.Esb\",\"link\":\"/shuttle-esb/index\"}]},{\"items\":[{\"text\":\"Overview\",\"link\":\"/shuttle-esb/implementations/overview\"}]},{\"text\":\"Streams\",\"items\":[{\"text\":\"Kafka\",\"link\":\"/shuttle-esb/implementations/stream/kafka\"},{\"text\":\"Azure Event Hubs\",\"link\":\"/shuttle-esb/implementations/stream/azureeh\"}]},{\"text\":\"Queue\",\"items\":[{\"text\":\"Amazon SQS\",\"link\":\"/shuttle-esb/implementations/queue/amazonsqs\"},{\"text\":\"Azure Storage Queues\",\"link\":\"/shuttle-esb/implementations/queue/azuresq\"},{\"text\":\"File\",\"link\":\"/shuttle-esb/implementations/queue/filemq\"},{\"text\":\"MSMQ\",\"link\":\"/shuttle-esb/implementations/queue/msmq\"},{\"text\":\"RabbitMQ\",\"link\":\"/shuttle-esb/implementations/queue/rabbitmq\"},{\"text\":\"SQL\",\"link\":\"/shuttle-esb/implementations/queue/sql\"}]},{\"text\":\"Subscription\",\"items\":[{\"text\":\"SQL\",\"link\":\"/shuttle-esb/implementations/subscription/sql\"}]},{\"text\":\"Idempotence\",\"items\":[{\"text\":\"SQL\",\"link\":\"/shuttle-esb/implementations/idempotence/sql\"}]}],\"/shuttle-esb/modules/\":[{\"text\":\"\",\"items\":[{\"text\":\"Shuttle.Esb\",\"link\":\"/shuttle-esb/index\"}]},{\"text\":\"Implementations\",\"items\":[{\"text\":\"Active Time Range\",\"link\":\"/shuttle-esb/modules/active-time-range\"},{\"text\":\"Corrupt Transport Message\",\"link\":\"/shuttle-esb/modules/corrupt-transport-message\"},{\"text\":\"Message Forwarding\",\"link\":\"/shuttle-esb/modules/message-forwarding\"},{\"text\":\"Purge Inbox\",\"link\":\"/shuttle-esb/modules/purge-inbox\"},{\"text\":\"Purge Queues\",\"link\":\"/shuttle-esb/modules/purge-queues\"},{\"text\":\"Throttle\",\"link\":\"/shuttle-esb/modules/throttle\"}]}],\"/shuttle-core/\":[{\"text\":\"Shuttle.Core\",\"items\":[{\"text\":\"Infrastructure\",\"activeMatch\":\"^/infrastructure/\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-cli\"},{\"text\":\"Data / Micro ORM\",\"activeMatch\":\"^/data/\",\"link\":\"/shuttle-core/data/shuttle-core-data\"},{\"text\":\"Serialization\",\"activeMatch\":\"^/serialization/\",\"link\":\"/shuttle-core/serialization/shuttle-core-serialization\"},{\"text\":\"Hosting\",\"activeMatch\":\"^/core/\",\"link\":\"/shuttle-core/core/hosting\"},{\"text\":\"v-previous\",\"link\":\"https://shuttle.github.io/shuttle-core-pre-ms-di/\"}]}],\"/shuttle-core/infrastructure/\":[{\"text\":\"\",\"items\":[{\"text\":\"Shuttle.Core\",\"link\":\"/shuttle-core/index\"}]},{\"text\":\"Infrastructure\",\"items\":[{\"text\":\"Cli\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-cli\"},{\"text\":\"Compression\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-compression\"},{\"text\":\"Contract\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-contract\"},{\"text\":\"Cron\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-cron\"},{\"text\":\"Dependency Injection\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-dependencyinjection\"},{\"text\":\"Encryption\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-encryption\"},{\"text\":\"Mediator\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-mediator\"},{\"text\":\"Pipelines\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-pipelines\"},{\"text\":\"Reflection\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-reflection\"},{\"text\":\"Specification\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-specification\"},{\"text\":\"Streams\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-streams\"},{\"text\":\"System\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-system\"},{\"text\":\"Threading\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-threading\"},{\"text\":\"Transactions\",\"link\":\"/shuttle-core/infrastructure/shuttle-core-transactions\"}]}],\"/shuttle-core/data/\":[{\"text\":\"\",\"items\":[{\"text\":\"Shuttle.Core\",\"link\":\"/shuttle-core/index\"}]},{\"text\":\"Data / Micro ORM\",\"items\":[{\"text\":\"Shuttle.Core.Data\",\"link\":\"/shuttle-core/data/shuttle-core-data\"}]}],\"/shuttle-core/serialization/\":[{\"text\":\"\",\"items\":[{\"text\":\"Shuttle.Core\",\"link\":\"/shuttle-core/index\"}]},{\"text\":\"Serialization\",\"items\":[{\"text\":\"Shuttle.Core.Serialization\",\"link\":\"/shuttle-core/serialization/shuttle-core-serialization\"}]},{\"text\":\"Implementations\",\"items\":[{\"text\":\"Json\",\"link\":\"/shuttle-core/serialization/shuttle-core-json\"}]}],\"/shuttle-recall/\":[{\"text\":\"Shuttle.Recall\",\"items\":[{\"text\":\"Getting started\",\"link\":\"/shuttle-recall/guide/getting-started\"},{\"text\":\"Events\",\"link\":\"/shuttle-recall/events/overview\"},{\"text\":\"Projections\",\"link\":\"/shuttle-recall/projections/overview\"}]}],\"/shuttle-recall/guide/\":[{\"text\":\"\",\"items\":[{\"text\":\"Shuttle.Recall\",\"link\":\"/shuttle-recall/index\"}]},{\"text\":\"\",\"items\":[{\"text\":\"Getting Started\",\"link\":\"/shuttle-recall/guide/getting-started\"}]}],\"/shuttle-recall/events/\":[{\"text\":\"\",\"items\":[{\"text\":\"Shuttle.Recall\",\"link\":\"/shuttle-recall/index\"}]},{\"text\":\"Events\",\"items\":[{\"text\":\"Overview\",\"link\":\"/shuttle-recall/events/overview\"}]},{\"text\":\"Implementations\",\"items\":[{\"text\":\"SQL\",\"link\":\"/shuttle-recall/events/sql\"}]}],\"/shuttle-recall/projections/\":[{\"text\":\"\",\"items\":[{\"text\":\"Shuttle.Recall\",\"link\":\"/shuttle-recall/index\"}]},{\"text\":\"Projections\",\"items\":[{\"text\":\"Overview\",\"link\":\"/shuttle-recall/projections/overview\"}]},{\"text\":\"Implementations\",\"items\":[{\"text\":\"SQL\",\"link\":\"/shuttle-recall/projections/sql\"}]}]}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>